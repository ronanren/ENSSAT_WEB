<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>TP2</title>
</head>

<style type="text/css">

</style>

<body>
    <header>
        <h1>Bienvenue au TP2 de JS</h1>
    </header>
    <canvas id="canvas" height="500" width="500"></canvas>
</body>
<script>
    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = 'red';
    ctx.fillRect(50, 50, 100, 100);
    x = 0;
    last = performance.now();

    function pausecomp(millis) {
        var date = new Date();
        var curDate = null;
        do {
            curDate = new Date();
        } while (curDate - date < millis);
    }

    function draw(timestamp) {
        requestAnimationFrame(draw);

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.beginPath();
        ctx.rect(x, 50, 100, 100);
        ctx.fillStyle = "red";
        ctx.fill();
        // pausecomp(500);
        x += (timestamp - last) / 10;;
        last = timestamp;
    }
    requestAnimationFrame(draw);

</script>

</html>